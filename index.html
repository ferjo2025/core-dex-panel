<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Core Vault</title>

<!-- Importamos la fuente "Space Grotesk" desde Google Fonts -->
<style>
@import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;700&display=swap');

/* Variables CSS para colores, fuentes y tamaÃ±os */
:root {
--color-bg: #0f1217; /* Fondo oscuro general */
--color-card-bg: #1e222a; /* Fondo de tarjetas y contenedores */
--color-primary: #4f46e5; /* Color principal azul */
--color-secondary: #8b94ff; /* Azul mÃ¡s claro para texto secundario */
--color-accent: #10b981; /* Color verde para acentos y botones */
--color-text: #e0e6f0; /* Color principal del texto */
--color-text-muted: #a0aec0; /* Texto gris para subtÃ­tulos y descripciones */
--radius: 12px; /* Bordes redondeados */
--font-family: 'Space Grotesk', sans-serif; /* Fuente principal */
}

body {
margin: 0;
background: var(--color-bg);
font-family: var(--font-family);
color: var(--color-text);
display: flex;
justify-content: center;
padding: 16px;
min-height: 100vh;
box-sizing: border-box;
}

.container {
width: 100%;
max-width: 420px;
background: linear-gradient(145deg, #1e222a, #232834);
border-radius: var(--radius);
padding: 24px;
box-shadow: 0 0 15px rgba(79, 70, 229, 0.3);
display: flex;
flex-direction: column;
gap: 20px;
opacity: 0;
animation: fadeIn 0.8s forwards;
}

@keyframes fadeIn {
to { opacity: 1; }
}

.logo-title {
display: flex;
align-items: center;
gap: 14px;
justify-content: center;
user-select: none;
margin-bottom: 12px;
}

.logo-svg {
stroke-width: 2.5;
filter: drop-shadow(0 0 4px #8b94ff88);
animation: pulseLogoShadow 3s infinite ease-in-out;
vertical-align: middle;
width: 36px;
height: 36px;
}

@keyframes pulseLogoShadow {
0%, 100% { filter: drop-shadow(0 0 4px #8b94ff88); }
50% { filter: drop-shadow(0 0 8px #a3aaffcc); }
}

h1 {
display: flex;
align-items: center;
gap: 8px;
font-weight: 900;
font-size: 28px;
background: linear-gradient(90deg, #8b94ff, #4f46e5);
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
margin: 0;
user-select: none;
}

.version {
background: var(--color-accent);
font-size: 14px;
font-weight: 700;
color: white;
padding: 4px 10px;
border-radius: 20px;
box-shadow: 0 0 12px var(--color-accent);
user-select: none;
animation: pulseVersion 2.5s infinite;
}

@keyframes pulseVersion {
0%, 100% { box-shadow: 0 0 12px var(--color-accent); }
50% { box-shadow: 0 0 22px #10f39dcc; }
}

.wallet-address {
display: flex;
flex-direction: column;
align-items: center;
gap: 8px;
font-size: 14px;
color: var(--color-secondary);
user-select: all;
word-break: break-word;
text-align: center;
cursor: pointer;
}

.tooltip {
position: relative;
cursor: help;
border-bottom: 1px dotted var(--color-text-muted);
}
.tooltip:hover::after {
content: attr(data-tooltip);
position: absolute;
bottom: 125%;
left: 50%;
transform: translateX(-50%);
background-color: var(--color-primary);
color: white;
padding: 6px 10px;
border-radius: 8px;
white-space: nowrap;
font-size: 12px;
box-shadow: 0 0 10px rgba(79, 70, 229, 0.6);
opacity: 1;
pointer-events: auto;
z-index: 10;
}
.tooltip::after {
opacity: 0;
pointer-events: none;
transition: opacity 0.3s ease;
}

.copy-button {
background: var(--color-primary);
border: none;
color: white;
padding: 8px 14px;
border-radius: 8px;
cursor: pointer;
font-weight: 600;
font-size: 13px;
transition: background 0.3s ease, box-shadow 0.3s ease;
box-shadow: 0 0 8px rgba(79, 70, 229, 0.4);
user-select: none;
display: flex;
align-items: center;
gap: 6px;
justify-content: center;
margin: 0 auto;
}

.copy-button:hover {
background: var(--color-accent);
box-shadow: 0 0 15px var(--color-accent);
}

.copy-button:active { animation: clickConfirm 0.5s forwards; }

@keyframes clickConfirm {
0% { box-shadow: 0 0 15px var(--color-accent); }
50% { box-shadow: 0 0 30px #10f39d; }
100% { box-shadow: none; }
}

section.stats {
display: grid;
grid-template-columns: repeat(3, 1fr);
gap: 16px;
}

.card {
background: #272c3a;
border-radius: var(--radius);
padding: 16px;
display: flex;
flex-direction: column;
align-items: center;
box-shadow: inset 0 0 6px rgba(255, 255, 255, 0.05);
transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.card:hover {
transform: translateY(-6px) scale(1.05);
box-shadow: inset 0 0 15px rgba(79, 70, 229, 0.9);
}

.card .label {
font-size: 13px;
color: var(--color-text-muted);
margin-bottom: 6px;
text-transform: uppercase;
letter-spacing: 0.05em;
}

.card .value {
font-size: 18px;
font-weight: 700;
color: var(--color-text);
}

section.gains {
background: var(--color-card-bg);
border-radius: var(--radius);
padding: 16px;
box-shadow: 0 0 12px rgba(79, 70, 229, 0.3);
}

section.gains h2 {
margin: 0 0 12px 0;
font-size: 20px;
font-weight: 700;
letter-spacing: 1.2px;
color: var(--color-primary);
}

section.gains ul {
list-style: none;
padding: 0;
margin: 0;
}

section.gains li {
font-size: 16px;
margin-bottom: 8px;
color: var(--color-text);
display: flex;
justify-content: space-between;
font-weight: 600;
}

section.gains li span {
font-weight: 400;
color: var(--color-text-muted);
}

section.history {
background: var(--color-card-bg);
border-radius: var(--radius);
padding: 16px;
max-height: 120px;
overflow-y: auto;
font-size: 14px;
color: var(--color-text-muted);
box-shadow: inset 0 0 8px rgba(255,255,255,0.05);
white-space: pre-wrap;
user-select: text;
}

button#btnExit {
background: var(--color-primary);
border: none;
color: white;
padding: 14px;
border-radius: var(--radius);
font-size: 18px;
font-weight: 700;
cursor: pointer;
margin-top: 10px;
transition: background 0.3s ease;
width: 100%;
}

button#btnExit:hover {
background: var(--color-accent);
}

.pulse-green {
animation: pulse 2.5s infinite;
transform-origin: center;
}

@keyframes pulse {
0%, 100% { r: 1.5; opacity: 1; }
50% { r: 2.5; opacity: 0.6; }
}
</style>
</head>
<body>

<div class="container">
<div class="logo-title">
<svg width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="#8b94ff" class="logo-svg" xmlns="http://www.w3.org/2000/svg">
<circle class="pulse-green" cx="12" cy="12" r="1.5" fill="#10b981" stroke="none"/>
<circle cx="12" cy="12" r="7.5" />
<circle cx="12" cy="12" r="10.5" />
<circle cx="12" cy="12" r="13.5" />
</svg>

<h1>
<span>Core Vault</span>
<span class="version">3.0</span>
</h1>
</div>

<div class="wallet-address tooltip" id="walletOnly" data-tooltip="Haz click para copiar la direcciÃ³n">
No asignada
</div>

<button class="copy-button" id="copyBtn">ðŸ”— Compartir Wallet</button>

<section class="stats">
<div class="card"><div class="label">Invertido</div><div class="value" id="invertido">--</div></div>
<div class="card"><div class="label">Retirado</div><div class="value" id="retirado">--</div></div>
<div class="card"><div class="label">Pendiente</div><div class="value" id="pendiente">--</div></div>
</section>

<section class="gains">
<h2>Ganancias</h2>
<ul>
<li>Semanal <span id="gananciasSem">--</span></li>
<li>Referidos <span id="gananciasRef">--</span></li>
<li>Bono admin <span id="bonoAdmin">--</span></li>
<li>Ganancia acumulada <span id="gananciaTotal">--</span></li>
</ul>
</section>

<section class="history" id="historial">
No hay historial.
</section>

<button id="btnExit">Salir de la Wallet</button>
</div>

<script src="https://telegram.org/js/telegram-web-app.js"></script>
<script>
const tg = window.Telegram.WebApp;

function getParameterByName(name) {
const url = window.location.href;
name = name.replace(/[\[\]]/g, '\\$&');
const regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)');
const results = regex.exec(url);
if (!results) return null;
if (!results[2]) return '';
return decodeURIComponent(results[2].replace(/\+/g, ' '));
}

const wallet = getParameterByName('wallet') || "No asignada";
const invertido = getParameterByName('invertido') || "--";
const retirado = getParameterByName('retirado') || "--";
const pendiente = getParameterByName('pendiente') || "--";
const gananciasSem = getParameterByName('gananciasSem') || "--";
const gananciasRef = getParameterByName('gananciasRef') || "--";
const bonoAdmin = getParameterByName('bonoAdmin') || "--";
const gananciaTotal = getParameterByName('gananciaTotal') || "--";
const historial = getParameterByName('historial') || "No hay historial.";

document.getElementById("walletOnly").textContent = wallet;
document.getElementById('invertido').textContent = invertido + " USDT";
document.getElementById('retirado').textContent = retirado + " USDT";
document.getElementById('pendiente').textContent = pendiente + " USDT";
document.getElementById('gananciasSem').textContent = gananciasSem + " USDT";
document.getElementById('gananciasRef').textContent = gananciasRef + " USDT";
document.getElementById('bonoAdmin').textContent = bonoAdmin + " USDT";
document.getElementById('gananciaTotal').textContent = gananciaTotal + " USDT";
document.getElementById('historial').textContent = historial;

function copyWallet() {
navigator.clipboard.writeText(wallet).then(() => {
const btn = document.getElementById('copyBtn');
btn.textContent = 'âœ… Copiado';
setTimeout(() => { btn.textContent = 'ðŸ”— Compartir Wallet'; }, 1500);
}).catch(() => { alert("Error al copiar la direcciÃ³n."); });
}

document.getElementById('copyBtn').addEventListener('click', copyWallet);
document.getElementById("walletOnly").addEventListener('click', copyWallet);
document.getElementById('btnExit').addEventListener('click', () => { tg.close(); });
tg.expand();
</script>
</body>
</html>
